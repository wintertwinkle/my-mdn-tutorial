# Introduction to cross browser testing

## 1. What is cross browser testing?

用户体验的一致性要求应用能在不同浏览器，不同设备上的呈现和功能基本一致。
这是兼容性和测试的出发点。

虽然不能保证应用在所有的设备，所有版本的浏览器上都一致，但要保证应用在主体设备和主体浏览器上基本一致。

## 2. Why do cross browser issues occur?

兼容性出现的原因：

- 不同浏览器对各种标准的实现存在不同
- 不同浏览器对新标准的支持度不同
- 不同设备的屏幕尺寸不一样

## 3. Workflows for cross browser testing

虽然解决兼容性问题听起来很耗费时间和恐怖，但只要做好周全的计划就没那么难。

第一，周期性测试

第二，确保新加的功能不会破坏已有的功能

workflow:

`Initial planning > Development > Testing/discovery > Fixes/iteration`

### 3.1 Initial planning

1. 确定开发的功能和内容，定好工期
2. 进行技术选型
3. 确定应用的主要使用设备和浏览器及其支持版本(target testing platforms)
4. 根据 target platforms 评估技术选型，针对某些不支持某些技术的平台，提供一种降级选择
5. 列出可能存在的问题和难点

### 3.2 Development

1. 将开发内容分解成不同的模块，将模块分解成一片一片的小任务
2. 首先开发核心模块，工具模块和通用模块
3. 最后开发各个功能模块

兼容性开发策略：

1. 一开始就要尽可能对各个功能能在不同的平台上工作，所涉及的技术包括浏览器能力检测，针对没有某型能力的平台提供 `Polyfill`
2. 对于已有的轮子，就不要重新发明轮子
3. 做好你不能保证所有功能在所有平台上完美工作的心理准备
4. 开发完一个功能就要对其进行单元测试，集成一个模块时要做集成测试，不要把测试留到最后一起做。

### 3.3 Testing/discovery

1. 在不同浏览器，不同版本的浏览器进行测试发现问题
2. 在不同的设备上如 PC,手机上进行测试发现问题
3. 修复问题
4. 扩大测试平台
5. 当应用规模扩大时，手动测试的工作量会上升，这时要着手引入自动化测试。
6. 当测试和问题修复后，可以尝试在即将发布的新平台进行测试

### 3.4 Fixes/iteration

1. 解决问题的第一步是定位问题，策略是缩小问题场景。比如哪个浏览器，哪个设备，浏览器的版本是什么。试着替换不同的参数(broswer, device, version_of_browser)看看 BUG 出现的范围有多广。有时候 BUG 可能出在浏览器上。

2. 当定位问题后，不要直接修改代码，因为这可能引发新的 BUG。通常的做法新开一个 git 分支，然后使用浏览器能力检测开一个 `if` 分支，不要影响原有功能。
